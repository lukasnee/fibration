{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "openocd",
            "device": "STM32F303RE",
            "type": "cortex-debug",
            "request": "attach",
            "servertype": "openocd",
            "configFiles": [
                "interface/stlink.cfg",
                "board/st_nucleo_f3.cfg"
            ],
            "openOCDLaunchCommands": [
                "adapter speed 4000",
                "init",
                "reset halt",
                "program .build/${input:target}-${input:build_type}/modules/${input:target}/${input:target} preverify verify reset"
            ],
            // "rtos": "FreeRTOS",
            "cwd": "${workspaceRoot}",
            "executable": "${workspaceRoot}/.build/${input:target}-${input:build_type}/modules/${input:target}/${input:target}",
            "preLaunchTask": "build",
            // "preAttachCommands": [
            //     "monitor tpiu config internal itm.fifo uart off 240000000"
            // ],
            "svdFile": "${workspaceRoot}/system/msp/STM32F303.svd",
            "interface": "swd",
            "breakAfterReset": false,
            // "runToEntryPoint": "main"
            // "showDevDebugOutput": "raw",
        }
    ],
    "inputs": [
        {
            "id": "build_type",
            "type": "pickString",
            "description": "Build type",
            "options": [
                "dbg",
                "rel"
            ]
        },
        {
            "id": "target",
            "type": "pickString",
            "description": "Target project",
            "options": [
                "higgs"
            ]
        },
    ]
}